<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_75) on Tue Mar 24 16:31:09 CST 2015 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>Annotation (OpenTSDB 2.1.0 API)</title>
<meta name="date" content="2015-03-24">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Annotation (OpenTSDB 2.1.0 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Annotation.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../net/opentsdb/meta/TSMeta.html" title="class in net.opentsdb.meta"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?net/opentsdb/meta/Annotation.html" target="_top">Frames</a></li>
<li><a href="Annotation.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">net.opentsdb.meta</div>
<h2 title="Class Annotation" class="title">Class Annotation</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>net.opentsdb.meta.Annotation</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="http://download.oracle.com/javase/6/docs/api/java/lang/Comparable.html?is-external=true" title="class or interface in java.lang">Comparable</a>&lt;<a href="../../../net/opentsdb/meta/Annotation.html" title="class in net.opentsdb.meta">Annotation</a>&gt;</dd>
</dl>
<hr>
<br>
<pre>public final class <span class="strong">Annotation</span>
extends <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Comparable.html?is-external=true" title="class or interface in java.lang">Comparable</a>&lt;<a href="../../../net/opentsdb/meta/Annotation.html" title="class in net.opentsdb.meta">Annotation</a>&gt;</pre>
<div class="block">Annotations are used to record time-based notes about timeseries events.
 Every note must have an associated start_time as that determines
 where the note is stored.
 <p>
 Annotations may be associated with a specific timeseries, in which case
 the tsuid must be configured with a valid TSUID. If no TSUID
 is provided, the annotation is considered a "global" note that applies
 to everything stored in OpenTSDB. Global annotations are stored in the rows
 [ 0, 0, 0, &lt;timestamp&gt;] in the same manner as local annotations and
 timeseries data.
 <p>
 The description field should store a very brief line of information
 about the event. GUIs can display the description in their "main" view
 where multiple annotations may appear. Users of the GUI could then click
 or hover over the description for more detail including the <a href="../../../net/opentsdb/meta/Annotation.html#notes"><code>notes</code></a>
 field.
 <p>
 Custom data can be stored in the custom hash map for user
 specific information. For example, you could add a "reporter" key
 with the name of the person who recorded the note.</div>
<dl><dt><span class="strong">Since:</span></dt>
  <dd>2.0</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../net/opentsdb/meta/Annotation.html#Annotation()">Annotation</a></strong>()</code>
<div class="block">Default constructor, initializes the change map</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/meta/Annotation.html#compareTo(net.opentsdb.meta.Annotation)">compareTo</a></strong>(<a href="../../../net/opentsdb/meta/Annotation.html" title="class in net.opentsdb.meta">Annotation</a>&nbsp;note)</code>
<div class="block">Compares the <code>#start_time</code> of this annotation to the given note</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>com.stumbleupon.async.Deferred&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/meta/Annotation.html#delete(net.opentsdb.core.TSDB)">delete</a></strong>(<a href="../../../net/opentsdb/core/TSDB.html" title="class in net.opentsdb.core">TSDB</a>&nbsp;tsdb)</code>
<div class="block">Attempts to mark an Annotation object for deletion.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static com.stumbleupon.async.Deferred&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/meta/Annotation.html#deleteRange(net.opentsdb.core.TSDB,%20byte[],%20long,%20long)">deleteRange</a></strong>(<a href="../../../net/opentsdb/core/TSDB.html" title="class in net.opentsdb.core">TSDB</a>&nbsp;tsdb,
           byte[]&nbsp;tsuid,
           long&nbsp;start_time,
           long&nbsp;end_time)</code>
<div class="block">Deletes global or TSUID associated annotiations for the given time range.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static com.stumbleupon.async.Deferred&lt;<a href="../../../net/opentsdb/meta/Annotation.html" title="class in net.opentsdb.meta">Annotation</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/meta/Annotation.html#getAnnotation(net.opentsdb.core.TSDB,%20byte[],%20long)">getAnnotation</a></strong>(<a href="../../../net/opentsdb/core/TSDB.html" title="class in net.opentsdb.core">TSDB</a>&nbsp;tsdb,
             byte[]&nbsp;tsuid,
             long&nbsp;start_time)</code>
<div class="block">Attempts to fetch a global or local annotation from storage</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static com.stumbleupon.async.Deferred&lt;<a href="../../../net/opentsdb/meta/Annotation.html" title="class in net.opentsdb.meta">Annotation</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/meta/Annotation.html#getAnnotation(net.opentsdb.core.TSDB,%20long)">getAnnotation</a></strong>(<a href="../../../net/opentsdb/core/TSDB.html" title="class in net.opentsdb.core">TSDB</a>&nbsp;tsdb,
             long&nbsp;start_time)</code>
<div class="block">Attempts to fetch a global annotation from storage</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static com.stumbleupon.async.Deferred&lt;<a href="../../../net/opentsdb/meta/Annotation.html" title="class in net.opentsdb.meta">Annotation</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/meta/Annotation.html#getAnnotation(net.opentsdb.core.TSDB,%20java.lang.String,%20long)">getAnnotation</a></strong>(<a href="../../../net/opentsdb/core/TSDB.html" title="class in net.opentsdb.core">TSDB</a>&nbsp;tsdb,
             <a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;tsuid,
             long&nbsp;start_time)</code>
<div class="block">Attempts to fetch a global or local annotation from storage</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://download.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/meta/Annotation.html#getCustom()">getCustom</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/meta/Annotation.html#getDescription()">getDescription</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/meta/Annotation.html#getEndTime()">getEndTime</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static com.stumbleupon.async.Deferred&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../net/opentsdb/meta/Annotation.html" title="class in net.opentsdb.meta">Annotation</a>&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/meta/Annotation.html#getGlobalAnnotations(net.opentsdb.core.TSDB,%20long,%20long)">getGlobalAnnotations</a></strong>(<a href="../../../net/opentsdb/core/TSDB.html" title="class in net.opentsdb.core">TSDB</a>&nbsp;tsdb,
                    long&nbsp;start_time,
                    long&nbsp;end_time)</code>
<div class="block">Scans through the global annotation storage rows and returns a list of 
 parsed annotation objects.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/meta/Annotation.html#getNotes()">getNotes</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/meta/Annotation.html#getStartTime()">getStartTime</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/meta/Annotation.html#getTSUID()">getTSUID</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static byte</code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/meta/Annotation.html#PREFIX()">PREFIX</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/meta/Annotation.html#setCustom(java.util.Map)">setCustom</a></strong>(<a href="http://download.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;custom)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/meta/Annotation.html#setDescription(java.lang.String)">setDescription</a></strong>(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;description)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/meta/Annotation.html#setEndTime(long)">setEndTime</a></strong>(long&nbsp;end_time)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/meta/Annotation.html#setNotes(java.lang.String)">setNotes</a></strong>(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;notes)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/meta/Annotation.html#setStartTime(long)">setStartTime</a></strong>(long&nbsp;start_time)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/meta/Annotation.html#setTSUID(java.lang.String)">setTSUID</a></strong>(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;tsuid)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>com.stumbleupon.async.Deferred&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Boolean.html?is-external=true" title="class or interface in java.lang">Boolean</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/meta/Annotation.html#syncToStorage(net.opentsdb.core.TSDB,%20java.lang.Boolean)">syncToStorage</a></strong>(<a href="../../../net/opentsdb/core/TSDB.html" title="class in net.opentsdb.core">TSDB</a>&nbsp;tsdb,
             <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Boolean.html?is-external=true" title="class or interface in java.lang">Boolean</a>&nbsp;overwrite)</code>
<div class="block">Attempts a CompareAndSet storage call, loading the object from storage, 
 synchronizing changes, and attempting a put.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/meta/Annotation.html#toString()">toString</a></strong>()</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Annotation()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Annotation</h4>
<pre>public&nbsp;Annotation()</pre>
<div class="block">Default constructor, initializes the change map</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="toString()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;toString()</pre>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a></code>&nbsp;in class&nbsp;<code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>A string with information about the annotation object</dd></dl>
</li>
</ul>
<a name="compareTo(net.opentsdb.meta.Annotation)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>compareTo</h4>
<pre>public&nbsp;int&nbsp;compareTo(<a href="../../../net/opentsdb/meta/Annotation.html" title="class in net.opentsdb.meta">Annotation</a>&nbsp;note)</pre>
<div class="block">Compares the <code>#start_time</code> of this annotation to the given note</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/Comparable.html?is-external=true#compareTo(T)" title="class or interface in java.lang">compareTo</a></code>&nbsp;in interface&nbsp;<code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/Comparable.html?is-external=true" title="class or interface in java.lang">Comparable</a>&lt;<a href="../../../net/opentsdb/meta/Annotation.html" title="class in net.opentsdb.meta">Annotation</a>&gt;</code></dd>
<dt><span class="strong">Returns:</span></dt><dd>1 if the local start time is greater, -1 if it's less or 0 if
 equal</dd></dl>
</li>
</ul>
<a name="syncToStorage(net.opentsdb.core.TSDB, java.lang.Boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>syncToStorage</h4>
<pre>public&nbsp;com.stumbleupon.async.Deferred&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Boolean.html?is-external=true" title="class or interface in java.lang">Boolean</a>&gt;&nbsp;syncToStorage(<a href="../../../net/opentsdb/core/TSDB.html" title="class in net.opentsdb.core">TSDB</a>&nbsp;tsdb,
                                                    <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Boolean.html?is-external=true" title="class or interface in java.lang">Boolean</a>&nbsp;overwrite)</pre>
<div class="block">Attempts a CompareAndSet storage call, loading the object from storage, 
 synchronizing changes, and attempting a put.
 <b>Note:</b> If the local object didn't have any fields set by the caller
 or there weren't any changes, then the data will not be written and an 
 exception will be thrown.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>tsdb</code> - The TSDB to use for storage access</dd><dd><code>overwrite</code> - When the RPC method is PUT, will overwrite all user
 accessible fields
 True if the storage call was successful, false if the object was
 modified in storage during the CAS call. If false, retry the call. Other 
 failures will result in an exception being thrown.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>org.hbase.async.HBaseException</code> - if there was an issue</dd>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if required data was missing such as the 
 <code>#start_time</code></dd>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the data hasn't changed. This is OK!</dd>
<dd><code><a href="../../../net/opentsdb/utils/JSONException.html" title="class in net.opentsdb.utils">JSONException</a></code> - if the object could not be serialized</dd></dl>
</li>
</ul>
<a name="delete(net.opentsdb.core.TSDB)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>delete</h4>
<pre>public&nbsp;com.stumbleupon.async.Deferred&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;delete(<a href="../../../net/opentsdb/core/TSDB.html" title="class in net.opentsdb.core">TSDB</a>&nbsp;tsdb)</pre>
<div class="block">Attempts to mark an Annotation object for deletion. Note that if the
 annoation does not exist in storage, this delete call will not throw an
 error.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>tsdb</code> - The TSDB to use for storage access</dd>
<dt><span class="strong">Returns:</span></dt><dd>A meaningless Deferred for the caller to wait on until the call is
 complete. The value may be null.</dd></dl>
</li>
</ul>
<a name="getAnnotation(net.opentsdb.core.TSDB, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAnnotation</h4>
<pre>public static&nbsp;com.stumbleupon.async.Deferred&lt;<a href="../../../net/opentsdb/meta/Annotation.html" title="class in net.opentsdb.meta">Annotation</a>&gt;&nbsp;getAnnotation(<a href="../../../net/opentsdb/core/TSDB.html" title="class in net.opentsdb.core">TSDB</a>&nbsp;tsdb,
                                                       long&nbsp;start_time)</pre>
<div class="block">Attempts to fetch a global annotation from storage</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>tsdb</code> - The TSDB to use for storage access</dd><dd><code>start_time</code> - The start time as a Unix epoch timestamp</dd>
<dt><span class="strong">Returns:</span></dt><dd>A valid annotation object if found, null if not</dd></dl>
</li>
</ul>
<a name="getAnnotation(net.opentsdb.core.TSDB, java.lang.String, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAnnotation</h4>
<pre>public static&nbsp;com.stumbleupon.async.Deferred&lt;<a href="../../../net/opentsdb/meta/Annotation.html" title="class in net.opentsdb.meta">Annotation</a>&gt;&nbsp;getAnnotation(<a href="../../../net/opentsdb/core/TSDB.html" title="class in net.opentsdb.core">TSDB</a>&nbsp;tsdb,
                                                       <a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;tsuid,
                                                       long&nbsp;start_time)</pre>
<div class="block">Attempts to fetch a global or local annotation from storage</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>tsdb</code> - The TSDB to use for storage access</dd><dd><code>tsuid</code> - The TSUID as a string. May be empty if retrieving a global
 annotation</dd><dd><code>start_time</code> - The start time as a Unix epoch timestamp</dd>
<dt><span class="strong">Returns:</span></dt><dd>A valid annotation object if found, null if not</dd></dl>
</li>
</ul>
<a name="getAnnotation(net.opentsdb.core.TSDB, byte[], long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAnnotation</h4>
<pre>public static&nbsp;com.stumbleupon.async.Deferred&lt;<a href="../../../net/opentsdb/meta/Annotation.html" title="class in net.opentsdb.meta">Annotation</a>&gt;&nbsp;getAnnotation(<a href="../../../net/opentsdb/core/TSDB.html" title="class in net.opentsdb.core">TSDB</a>&nbsp;tsdb,
                                                       byte[]&nbsp;tsuid,
                                                       long&nbsp;start_time)</pre>
<div class="block">Attempts to fetch a global or local annotation from storage</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>tsdb</code> - The TSDB to use for storage access</dd><dd><code>tsuid</code> - The TSUID as a byte array. May be null if retrieving a global
 annotation</dd><dd><code>start_time</code> - The start time as a Unix epoch timestamp</dd>
<dt><span class="strong">Returns:</span></dt><dd>A valid annotation object if found, null if not</dd></dl>
</li>
</ul>
<a name="getGlobalAnnotations(net.opentsdb.core.TSDB, long, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getGlobalAnnotations</h4>
<pre>public static&nbsp;com.stumbleupon.async.Deferred&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../net/opentsdb/meta/Annotation.html" title="class in net.opentsdb.meta">Annotation</a>&gt;&gt;&nbsp;getGlobalAnnotations(<a href="../../../net/opentsdb/core/TSDB.html" title="class in net.opentsdb.core">TSDB</a>&nbsp;tsdb,
                                                                    long&nbsp;start_time,
                                                                    long&nbsp;end_time)</pre>
<div class="block">Scans through the global annotation storage rows and returns a list of 
 parsed annotation objects. If no annotations were found for the given
 timespan, the resulting list will be empty.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>tsdb</code> - The TSDB to use for storage access</dd><dd><code>start_time</code> - Start time to scan from. May be 0</dd><dd><code>end_time</code> - End time to scan to. Must be greater than 0</dd>
<dt><span class="strong">Returns:</span></dt><dd>A list with detected annotations. May be empty.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the end timestamp has not been set or 
 the end time is less than the start time</dd></dl>
</li>
</ul>
<a name="deleteRange(net.opentsdb.core.TSDB, byte[], long, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteRange</h4>
<pre>public static&nbsp;com.stumbleupon.async.Deferred&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</a>&gt;&nbsp;deleteRange(<a href="../../../net/opentsdb/core/TSDB.html" title="class in net.opentsdb.core">TSDB</a>&nbsp;tsdb,
                                                  byte[]&nbsp;tsuid,
                                                  long&nbsp;start_time,
                                                  long&nbsp;end_time)</pre>
<div class="block">Deletes global or TSUID associated annotiations for the given time range.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>tsdb</code> - The TSDB object to use for storage access</dd><dd><code>tsuid</code> - An optional TSUID. If set to null, then global annotations for
 the given range will be deleted</dd><dd><code>start_time</code> - A start timestamp in milliseconds</dd><dd><code>end_time</code> - An end timestamp in millseconds</dd>
<dt><span class="strong">Returns:</span></dt><dd>The number of annotations deleted</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the timestamps are invalid</dd><dt><span class="strong">Since:</span></dt>
  <dd>2.1</dd></dl>
</li>
</ul>
<a name="PREFIX()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PREFIX</h4>
<pre>public static&nbsp;byte&nbsp;PREFIX()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>The prefix byte for annotation objects</dd></dl>
</li>
</ul>
<a name="getTSUID()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTSUID</h4>
<pre>public final&nbsp;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getTSUID()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>the tsuid, may be empty if this is a global annotation</dd></dl>
</li>
</ul>
<a name="getStartTime()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStartTime</h4>
<pre>public final&nbsp;long&nbsp;getStartTime()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>the start_time</dd></dl>
</li>
</ul>
<a name="getEndTime()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEndTime</h4>
<pre>public final&nbsp;long&nbsp;getEndTime()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>the end_time, may be 0</dd></dl>
</li>
</ul>
<a name="getDescription()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDescription</h4>
<pre>public final&nbsp;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getDescription()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>the description</dd></dl>
</li>
</ul>
<a name="getNotes()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNotes</h4>
<pre>public final&nbsp;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getNotes()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>the notes, may be empty</dd></dl>
</li>
</ul>
<a name="getCustom()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCustom</h4>
<pre>public final&nbsp;<a href="http://download.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;getCustom()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>the custom key/value map, may be null</dd></dl>
</li>
</ul>
<a name="setTSUID(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTSUID</h4>
<pre>public&nbsp;void&nbsp;setTSUID(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;tsuid)</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>tsuid</code> - the tsuid to store</dd></dl>
</li>
</ul>
<a name="setStartTime(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setStartTime</h4>
<pre>public&nbsp;void&nbsp;setStartTime(long&nbsp;start_time)</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>start_time</code> - the start_time, required for every annotation</dd></dl>
</li>
</ul>
<a name="setEndTime(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setEndTime</h4>
<pre>public&nbsp;void&nbsp;setEndTime(long&nbsp;end_time)</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>end_time</code> - the end_time, optional</dd></dl>
</li>
</ul>
<a name="setDescription(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDescription</h4>
<pre>public&nbsp;void&nbsp;setDescription(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;description)</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>description</code> - the description, required for every annotation</dd></dl>
</li>
</ul>
<a name="setNotes(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setNotes</h4>
<pre>public&nbsp;void&nbsp;setNotes(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;notes)</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>notes</code> - the notes to set</dd></dl>
</li>
</ul>
<a name="setCustom(java.util.Map)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setCustom</h4>
<pre>public&nbsp;void&nbsp;setCustom(<a href="http://download.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;custom)</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>custom</code> - the custom key/value map</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Annotation.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../net/opentsdb/meta/TSMeta.html" title="class in net.opentsdb.meta"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?net/opentsdb/meta/Annotation.html" target="_top">Frames</a></li>
<li><a href="Annotation.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright © 2010-2015,             The OpenTSDB Authors</small></p>
</body>
</html>
